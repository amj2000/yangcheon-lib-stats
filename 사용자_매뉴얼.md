# 양천구립도서관 프로그램 실시간 통계 관리 시스템 — 사용자 매뉴얼

대상: 현장 담당자, 총괄 담당자, 관리자  
버전: 완성 버전 기준

---

# Part 1. 기능별 매뉴얼

---

## 1. 로그인·회원가입

### 1.1 로그인 화면 접속

- 브라우저에서 **로그인 페이지**(예: `login.html`)를 엽니다.
- 상단 탭에서 **「로그인」**이 선택된 상태가 기본입니다.

### 1.2 로그인 방법

1. **소속 도서관**: 드롭다운에서 본인이 속한 도서관을 선택합니다.
2. **이름**: 가입 시 등록한 이름을 입력합니다.
3. **비밀번호**: 가입 시 설정한 비밀번호를 입력합니다.
4. **로그인** 버튼을 누릅니다.

**참고**

- 아직 승인되지 않은 경우 「관리자의 승인을 기다리고 있습니다.» 메시지가 나옵니다. 관리자 승인 후 다시 로그인합니다.
- 비밀번호가 틀리면 「비밀번호가 일치하지 않습니다.» 메시지가 표시됩니다.
- 등록되지 않은 소속 도서관·이름 조합이면 「등록되지 않은 사용자입니다.» 메시지가 표시됩니다.

### 1.3 회원가입 방법

1. 상단 탭에서 **「회원가입」**을 클릭합니다.
2. **소속 도서관**: 드롭다운에서 소속 도서관을 선택합니다.
3. **이름**: 사용할 이름을 입력합니다.
4. **비밀번호 설정**: 로그인에 사용할 비밀번호를 입력합니다.
5. **가입하기** 버튼을 누릅니다.

**가입 후**

- 「회원가입이 완료되었습니다. 관리자 승인 후 이용 가능합니다.» 메시지가 표시됩니다.
- 관리자가 구글 시트(사용자관리)에서 승인상태를 **승인**으로 변경한 뒤에만 로그인이 가능합니다.
- 이미 같은 도서관·이름으로 승인된 계정이 있으면 「이미 가입되어 있습니다. 로그인해 주세요.» 메시지가 표시됩니다.
- 승인 대기 중인 상태에서 다시 가입하려 하면 「승인 대기 중입니다. 관리자 승인 후 로그인해 주세요.» 메시지가 표시됩니다.

### 1.4 사용자 권한(역할) 구분

시스템에서는 **승인상태**와 **역할** 두 가지로 사용자 권한을 구분합니다. 둘 다 구글 시트 **사용자관리**에서 관리됩니다.

**승인상태**

| 값 | 로그인 | 설명 |
|----|--------|------|
| **대기** | 불가 | 회원가입 직후 기본값. 관리자가 승인할 때까지 로그인할 수 없습니다. |
| **승인** | 가능 | 관리자가 시트에서 승인으로 변경한 사용자만 로그인 후 통계 입력을 이용할 수 있습니다. |

**역할**

| 역할 | 통계 입력 시 도서관 선택 | 설명 |
|------|--------------------------|------|
| **일반** | 불가(고정) | 소속 도서관만 사용합니다. 도서관 드롭다운이 비활성화되어 다른 도서관을 선택할 수 없습니다. |
| **관리자** | 가능 | 모든 도서관을 선택할 수 있습니다. 여러 도서관 통계를 대신 입력할 때 사용합니다. |

- 신규 가입 시 역할은 **일반**으로 저장됩니다. 관리자 권한이 필요한 경우, 관리자가 사용자관리 시트에서 해당 사용자의 **역할** 열을 **관리자**로 변경합니다.
- 대시보드 보기는 로그인 없이 누구나 이용할 수 있으며, 역할에 따른 제한이 없습니다.

---

## 2. 통계 입력 화면 (로그인 후)

### 2.1 화면 구성

- **상단**: 제목 「프로그램 통계 입력」, 부제목, **로그인한 사용자 이름**, **로그아웃** 버튼
- **입력 폼**: 도서관 선택 → 프로그램 선택 → (1회차인 경우) 총 운영회수 → 참여 현황(모집·참여·노쇼) → 제출하기
- **이전 회차 운영 기록**: 선택한 도서관·프로그램의 과거 회차 목록(클릭 시 수정 가능)
- **우측 하단**: 「📊 대시보드 보기」 링크

### 2.2 도서관 선택

- **도서관** 드롭다운에서 소속 도서관을 선택합니다.
- 로그인한 사용자의 소속 도서관이 있으면 **자동으로 해당 도서관이 선택**된 상태로 열릴 수 있습니다.
- **일반** 사용자는 도서관 선택이 고정되어 소속 도서관만 사용할 수 있고, **관리자**는 드롭다운에서 다른 도서관을 선택할 수 있습니다. (권한 구분은 **1.4 사용자 권한(역할) 구분** 참고.)
- 목록은 공공도서관(9개소) / 작은도서관(2개소)으로 구분되어 있습니다.

### 2.3 프로그램 선택

- **도서관을 먼저 선택**해야 프로그램 목록이 나타납니다.
- **프로그램** 드롭다운에는 선택한 도서관에 해당하는 프로그램만 표시됩니다.
- 프로그램을 선택하면 해당 프로그램의 **운영 기간·요일·시간·총 운영회수** 등이 화면에 표시될 수 있습니다.
- 「다음 입력할 회차」가 표시됩니다(예: 1회차, 2회차).

### 2.4 총 운영 회수 (1회차 입력 시만)

- **이번 프로그램이 총 몇 회 운영되는지**를 1회차 입력 시에만 입력합니다.
- 「총 운영회수를 입력하세요.» 안내가 나오면 숫자를 입력합니다.
- 입력 후 기간·요일 기준으로 자동 계산된 내용이 표시될 수 있습니다(예: 총 운영회수: 10회, 기간 중 2회 쉼).

### 2.5 참여 현황 입력

| 항목 | 설명 | 입력 규칙 |
|------|------|-----------|
| **모집(명)** | 해당 회차 모집 인원 | 0 이상. 2회차 이후는 **이전 회차 모집 인원보다 작을 수 없음**. 1회차는 반드시 입력. |
| **참여(명)** | 실제 참여 인원 | 0 이상, 모집 인원 이하 |
| **노쇼(명)** | 신청했으나 불참한 인원 | 0 이상, (모집 − 참여) 이하 |

**모집 인원을 이전 회차보다 늘리는 경우(인원 증액)**

- 「인원 증액 사유」 입력란이 나타납니다.
- **예: 현장 추가 모집** 등 사유를 입력한 뒤 제출해야 합니다.
- 2회차 이후에는 모집 인원을 **이전 회차와 동일하게** 유지할 수 있으며, 이때는 증액 사유가 필요 없습니다.

**모집 인원 수정**

- 2회차 이후에 이미 입력된 모집 인원을 바꾸려면 **수정** 버튼을 눌러 값을 변경할 수 있습니다. 단, **이전 회차 모집 인원보다 줄일 수는 없습니다.**

**누적 표시**

- 현재 회차까지의 **누적 참여**, **누적 노쇼**가 참여/노쇼 입력란 아래에 표시됩니다.

### 2.6 제출하기

- 모든 필수 항목을 입력한 뒤 **제출하기** 버튼을 누릅니다.
- 저장이 완료되면 「데이터가 성공적으로 저장되었습니다.» 메시지가 표시됩니다.
- 저장 실패 시 「방금 입력한 데이터가 저장되지 않았습니다. 연결을 확인한 뒤 다시 시도해 주세요.» 메시지가 표시됩니다. 네트워크 확인 후 다시 제출합니다.
- 제출된 데이터에는 **로그인한 사용자 이름이 입력자로 기록**됩니다.

### 2.7 최종 회차 입력 시

- 해당 프로그램의 **마지막 회차**를 입력하고 제출하면 「최종 회차 보고입니다」 문구가 표시될 수 있습니다.
- 전체 운영이 끝난 프로그램은 「전체 운영 보고가 완료되었습니다」 패널이 표시될 수 있습니다.

---

## 3. 이전 회차 운영 기록 보기·수정

### 3.1 이전 회차 목록 보기

- 도서관과 프로그램을 선택하면 **「이전 회차 운영 기록」** 섹션에 과거 회차 목록이 표시됩니다.
- 각 항목에는 **회차, 날짜, 모집/참여/노쇼, 참여율, 변경사유** 등이 표시됩니다.
- 기록이 없으면 「이전 회차 기록이 없습니다.» 또는 「도서관과 프로그램을 선택하면 이전 회차 기록이 표시됩니다.» 문구가 보입니다.

### 3.2 과거 회차 수정하기

1. **이전 회차 운영 기록** 목록에서 수정할 **회차 행**을 클릭합니다.
2. **과거 회차 수정** 모달이 열립니다.
3. 다음 항목을 필요에 따라 수정합니다.
   - **날짜**: 운영일자
   - **모집(명)**
   - **참여(명)**
   - **노쇼(명)**
4. **변경사유** 란에 **반드시** 수정 사유를 입력합니다.  
   - 예: 입력오류 수정, 현장 확인 후 정정
   - 형식은 시스템이 자동으로 붙입니다: `[변경한 항목] 변경사유(수정자이름), 수정일시`
5. **저장** 버튼을 누릅니다.

**유의사항**

- 변경사유를 비우고 저장하면 「변경사유를 입력해 주세요.» 메시지가 표시됩니다.
- 변경한 내용이 없으면 「변경된 내용이 없습니다.» 메시지가 표시됩니다.
- 저장이 완료되면 「해당 회차 기록이 수정되었습니다.» 메시지가 표시됩니다.
- 서버 반영에 실패하면 「서버에 반영되지 않았습니다. 다시 시도해 주세요.» 메시지가 표시됩니다. 다시 시도하거나 연결 상태를 확인합니다.
- 수정 이력은 **변경사유**에 누적되어 기록되므로, 누가 언제 무엇을 바꿨는지 추적할 수 있습니다.

---

## 4. 대시보드

### 4.1 접속 방법

- **통계 입력 화면** 우측 하단의 **「📊 대시보드 보기」** 링크를 클릭하거나,
- 브라우저에서 **대시보드 페이지**(예: `index.html`)로 직접 이동합니다.
- 대시보드는 **로그인 없이** 볼 수 있습니다.

### 4.2 화면 구성

**상단 — 4대 지표 카드**

| 지표 | 설명 |
|------|------|
| 총 프로그램 수 | 입력기록에 기록된 프로그램(도서관·프로그램 조합) 수 |
| 전체 누적 모집 | 전체 모집 인원 합계 |
| 전체 누적 참여 | 전체 참여 인원 합계 |
| 전체 누적 노쇼 | 전체 노쇼 인원 합계 |

**차트 영역**

- **도서관별 막대 그래프**가 표시됩니다.
- **탭 버튼**으로 지표를 바꿀 수 있습니다.
  - **프로그램 수**: 도서관별 프로그램 수
  - **모집 인원**: 도서관별 모집 인원
  - **참여자 수**: 도서관별 참여 인원 (기본 선택)
  - **노쇼**: 도서관별 노쇼 인원
- **범례**: 공공도서관 / 작은도서관 구분 색상이 표시됩니다.

**도서관별 카드**

- **공공도서관 (9개소)**: 9개 공공도서관별 카드
- **작은도서관 (2개소)**: 2개 작은도서관별 카드
- 각 카드에는 해당 도서관의 프로그램 수, 모집/참여/노쇼 현황이 요약되어 표시됩니다.

### 4.3 통계 입력으로 이동

- 대시보드 우측 하단의 **「✏️ 통계 입력하기」** 링크를 클릭하면 통계 입력 페이지로 이동합니다.
- 통계 입력 페이지는 **로그인이 필요**합니다.

### 4.4 로딩·연결 안내

- 데이터를 불러올 때 「데이터를 불러오는 중...」 문구와 로딩 표시(점 3개)가 나타납니다.
- 연결이 되지 않거나 데이터를 가져오지 못하면 화면에 안내 메시지가 표시됩니다. 네트워크를 확인한 뒤 새로고침합니다.

---

## 5. 로그아웃

- **통계 입력 화면** 상단 오른쪽의 **로그아웃** 버튼을 클릭합니다.
- 로그아웃 후에는 통계 입력 페이지에 다시 접속할 때 로그인 화면으로 이동합니다.

---

# Part 2. 업무 흐름별 매뉴얼

---

## 흐름 1. 처음 사용하는 담당자 (회원가입 → 승인 → 로그인 → 첫 입력)

1. **로그인 페이지** 접속
2. **회원가입** 탭 클릭 → 소속 도서관, 이름, 비밀번호 입력 → **가입하기** 클릭
3. 「회원가입이 완료되었습니다. 관리자 승인 후 이용 가능합니다.» 확인
4. **관리자**가 구글 시트(사용자관리)에서 승인상태를 **승인**으로 변경할 때까지 대기
5. 관리자 승인 후 **로그인** 탭 → 소속 도서관, 이름, 비밀번호 입력 → **로그인** 클릭
6. **통계 입력** 화면으로 자동 이동
7. (자동 선택된) **도서관** 확인 → **프로그램** 선택
8. 1회차이므로 **총 운영 회수** 입력
9. **모집(명), 참여(명), 노쇼(명)** 입력 → 필요 시 **인원 증액 사유** 입력
10. **제출하기** 클릭 → 저장 완료 메시지 확인

---

## 흐름 2. 매 회차 종료 후 통계 입력 (이미 로그인된 상태)

1. **통계 입력** 페이지 접속 (또는 로그인 후 자동 이동)
2. **도서관** 선택(또는 자동 선택된 값 확인) → **프로그램** 선택
3. 화면에 표시되는 **다음 회차**(예: 2회차) 확인
4. **모집(명)**: 이전 회차와 동일하거나 더 큰 값만 입력  
   - 이전보다 늘리면 **인원 증액 사유** 입력
5. **참여(명), 노쇼(명)** 입력
6. **제출하기** 클릭 → 저장 완료 확인
7. 필요하면 **이전 회차 운영 기록**에서 누적 현황 확인

---

## 흐름 3. 과거 회차 입력값 수정하기

1. **통계 입력** 페이지에서 해당 **도서관**과 **프로그램** 선택
2. **이전 회차 운영 기록** 목록에서 수정할 **회차** 행 클릭
3. **과거 회차 수정** 모달에서 **날짜, 모집, 참여, 노쇼** 수정
4. **변경사유** 란에 반드시 사유 입력 (예: 입력오류 수정)
5. **저장** 클릭 → 「해당 회차 기록이 수정되었습니다.» 확인
6. 목록에서 변경사유가 누적되어 표시되는지 확인

---

## 흐름 4. 총괄 담당자가 전체 현황 확인하기

1. 브라우저에서 **대시보드** 페이지(`index.html`) 접속 (로그인 불필요)
2. **4대 지표 카드**(총 프로그램 수, 전체 누적 모집/참여/노쇼) 확인
3. **차트 탭**으로 프로그램 수 / 모집 인원 / 참여자 수 / 노쇼 전환하며 도서관별 비교
4. **공공도서관 (9개소)**, **작은도서관 (2개소)** 카드에서 도서관별 상세 확인
5. 필요 시 구글 시트(입력기록)를 다운로드하거나 공유하여 추가 분석

---

## 흐름 5. 관리자가 신규 담당자 승인하기

1. 구글 스프레드시트에서 **사용자관리** 시트 열기
2. 신규 가입자의 행에서 **승인상태** 컬럼을 **대기** → **승인**으로 변경
3. 저장 (구글 시트는 자동 저장)
4. 해당 담당자에게 승인 완료를 알리고, 로그인 후 통계 입력을 진행하도록 안내

---

## 흐름 6. 입력 후 대시보드에서 반영 확인

1. **통계 입력** 화면에서 데이터 **제출하기** 완료
2. **대시보드 보기** 링크 클릭하여 대시보드로 이동
3. 페이지가 데이터를 다시 불러오면 **4대 지표**와 **차트·카드**에 방금 입력한 내용이 반영된 값 확인
4. 반영이 안 보이면 잠시 후 **새로고침** 후 다시 확인

---

## 부록: 자주 나오는 메시지와 대응

| 메시지 | 의미 | 대응 |
|--------|------|------|
| 관리자의 승인을 기다리고 있습니다. | 회원가입은 했으나 승인 전 | 관리자에게 승인 요청 후 다시 로그인 |
| 비밀번호가 일치하지 않습니다. | 비밀번호 오입력 | 비밀번호 재확인 후 로그인 |
| 등록되지 않은 사용자입니다. | 해당 도서관·이름 조합 미등록 | 회원가입 진행 또는 소속/이름 확인 |
| 모집 인원은 이전 회차(n명)보다 줄어들 수 없습니다. | 2회차 이후 모집을 이전보다 적게 입력함 | 이전 회차 모집 인원 이상으로 입력 |
| 변경사유를 입력해 주세요. | 과거 회차 수정 시 변경사유 미입력 | 변경사유 입력 후 저장 |
| 데이터가 성공적으로 저장되었습니다. | 제출 또는 수정 저장 완료 | 다음 입력 또는 화면 이동 |
| 연결할 수 없습니다. 다시 시도해 주세요. | 네트워크/서버 연결 실패 | 인터넷 연결 확인 후 재시도 |
| 서버에 반영되지 않았습니다. 다시 시도해 주세요. | 수정 저장이 서버에서 실패 | 네트워크 확인 후 다시 저장 |

---

*문서 끝*
