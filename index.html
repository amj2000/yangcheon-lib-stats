<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>양천구립도서관 프로그램 통합 대시보드</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="dashboardToast" class="dashboard-toast" role="alert" aria-live="assertive"></div>
  <div class="page-wrap">
    <div class="dashboard-loading" id="dashboardLoading" aria-live="polite">
      <div class="dashboard-loading-spinner"></div>
      <span class="dashboard-loading-text">데이터를 불러오는 중...</span>
    </div>

    <header class="header">
      <h1 class="title">양천구립도서관 프로그램 통합 대시보드</h1>
    </header>

    <section class="summary-cards-section" id="summaryCardsSection" aria-label="4대 핵심 지표">
      <div class="summary-cards-grid">
        <div class="summary-card glass">
          <span class="summary-card-label">총 프로그램 수</span>
          <span class="summary-card-value" id="totalProgramCount">0</span>
        </div>
        <div class="summary-card glass">
          <span class="summary-card-label">전체 누적 모집</span>
          <span class="summary-card-value" id="totalRecruit">0</span>
        </div>
        <div class="summary-card glass">
          <span class="summary-card-label">전체 누적 참여</span>
          <span class="summary-card-value" id="totalAttend">0</span>
        </div>
        <div class="summary-card glass">
          <span class="summary-card-label">전체 누적 노쇼</span>
          <span class="summary-card-value" id="totalNoshow">0</span>
        </div>
      </div>
    </section>

    <main class="main">
      <section class="chart-section animate-in">
        <div class="chart-card glass">
          <h3 class="chart-title" id="chartTitle">도서관별 참여자 수 현황</h3>
          <div class="chart-tabs" role="tablist" aria-label="차트 지표 선택">
            <button type="button" class="chart-tab" role="tab" aria-selected="false" data-metric="programCount">프로그램 수</button>
            <button type="button" class="chart-tab" role="tab" aria-selected="false" data-metric="recruit">모집 인원</button>
            <button type="button" class="chart-tab chart-tab-active" role="tab" aria-selected="true" data-metric="attend">참여자 수</button>
            <button type="button" class="chart-tab" role="tab" aria-selected="false" data-metric="noshow">노쇼</button>
          </div>
          <div class="chart-legend-group" id="chartLegendGroup" aria-hidden="true">
            <span class="chart-legend-item chart-legend-public"><i></i> 공공도서관</span>
            <span class="chart-legend-item chart-legend-small"><i></i> 작은도서관</span>
          </div>
          <div class="chart-wrapper">
            <canvas id="libraryChart" aria-label="도서관별 막대 그래프"></canvas>
          </div>
        </div>
      </section>

      <section class="cards-section">
        <h2 class="section-heading visually-hidden">도서관별 상세 현황 카드</h2>

        <div class="cards-group">
          <div class="cards-group-header">
            <h3 class="cards-group-title">공공도서관 (9개소)</h3>
            <div class="summary-badge summary-badge-public" id="summaryBadgePublic" aria-hidden="true"></div>
          </div>
          <div class="cards-grid cards-grid-public" id="cardsGridPublic">
            <!-- Injected by script.js -->
          </div>
        </div>

        <div class="cards-group">
          <div class="cards-group-header">
            <h3 class="cards-group-title">작은도서관 (2개소)</h3>
            <div class="summary-badge summary-badge-small" id="summaryBadgeSmall" aria-hidden="true"></div>
          </div>
          <div class="cards-grid cards-grid-small" id="cardsGridSmall">
            <!-- Injected by script.js -->
          </div>
        </div>
      </section>
    </main>
  </div>

  <a href="input.html" class="fab" aria-label="통계 입력하기">✏️ 통계 입력하기</a>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
